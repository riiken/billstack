<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BillStack - GST Invoice Generator</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="loading">
  <div class="container">
    <!-- Header -->
    <header class="header">
      <h1><i class="fas fa-file-invoice"></i> BillStack</h1>
      <div class="header-actions">
        <button id="historyBtn" class="nav-btn tooltip" data-tooltip="View invoice history">
          <i class="fas fa-history"></i>
        </button>
        <button id="settingsBtn" class="nav-btn tooltip" data-tooltip="Settings & business details">
          <i class="fas fa-cog"></i>
        </button>
      </div>
    </header>

    <!-- Main Form -->
    <div id="mainForm" class="main-content">
      <!-- Invoice Details -->
      <section class="section accordion-section">
        <h2 class="accordion-header">
          Invoice Details
          <span class="accordion-icon">‚ñº</span>
        </h2>
        <div class="accordion-content">
          <div class="form-row">
            <div class="form-group">
              <label for="invoiceNumber">Invoice Number</label>
              <input type="text" id="invoiceNumber" value="INV-001" required>
            </div>
            <div class="form-group">
              <label for="invoiceDate">Date</label>
              <input type="date" id="invoiceDate" required>
            </div>
          </div>
          <div class="form-group">
            <label for="dueDate">Due Date</label>
            <input type="date" id="dueDate" required>
          </div>
          <div class="form-group">
            <label for="paymentStatus">Payment Status <span class="pro-badge-small">PRO</span></label>
            <select id="paymentStatus" disabled>
              <option value="unpaid" selected>Unpaid</option>
              <option value="paid">Paid</option>
              <option value="partial">Partially Paid</option>
              <option value="overdue">Overdue</option>
            </select>
            <small>Track payment status - Upgrade to Pro</small>
          </div>
        </div>
      </section>

      <!-- Your Business Details -->
      <section class="section accordion-section">
        <h2 class="accordion-header">
          Your Business Details
          <span class="accordion-icon">‚ñº</span>
        </h2>
        <div class="accordion-content">
          <div class="info-box" id="businessInfo">
            <p class="setup-prompt">‚ö†Ô∏è Please set up your business details in Settings first</p>
          </div>
        </div>
      </section>

      <!-- Client Details -->
      <section class="section accordion-section">
        <h2 class="accordion-header">
          Client Details
          <span class="accordion-icon">‚ñº</span>
        </h2>
        <div class="accordion-content">

        <!-- Client Templates -->
        <div class="form-group" style="background: #f3f4f6; padding: 12px; border-radius: 6px; margin-bottom: 16px;">
          <label for="loadClientTemplate" style="margin-bottom: 8px;">Load Saved Client</label>
          <div style="display: flex; gap: 8px; align-items: center;">
            <select id="loadClientTemplate" style="flex: 1;">
              <option value="">-- Select a client --</option>
            </select>
            <button id="saveClientTemplateBtn" class="btn-icon-action tooltip" data-tooltip="Save current client">
              <i class="fas fa-save"></i>
            </button>
            <button id="deleteClientTemplateBtn" class="btn-icon-action btn-icon-danger tooltip" data-tooltip="Delete selected client" style="display: none;">
              <i class="fas fa-trash-alt"></i>
            </button>
          </div>
          <small style="color: #6b7280; display: block; margin-top: 6px;">Save frequent clients for quick reuse</small>
        </div>

        <div class="form-group" id="clientNameGroup">
          <label for="clientName">Client Name *</label>
          <input type="text" id="clientName" placeholder="Client or Company Name" required>
          <span class="error-message">Client name is required</span>
        </div>
        <div class="form-group" id="clientGSTINGroup">
          <label for="clientGSTIN">Client GSTIN (Optional)</label>
          <input type="text" id="clientGSTIN" placeholder="29XXXXX1234X1ZX" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}">
          <small>Leave empty for B2C transactions</small>
          <span class="error-message">Invalid GSTIN format (e.g., 29ABCDE1234F1Z5)</span>
        </div>
        <div class="form-group" id="clientStateGroup">
          <label for="clientState">Client State *</label>
          <select id="clientState" required>
            <option value="">Select State</option>
            <option value="AN">Andaman and Nicobar Islands</option>
            <option value="AP">Andhra Pradesh</option>
            <option value="AR">Arunachal Pradesh</option>
            <option value="AS">Assam</option>
            <option value="BR">Bihar</option>
            <option value="CH">Chandigarh</option>
            <option value="CG">Chhattisgarh</option>
            <option value="DN">Dadra and Nagar Haveli</option>
            <option value="DD">Daman and Diu</option>
            <option value="DL">Delhi</option>
            <option value="GA">Goa</option>
            <option value="GJ">Gujarat</option>
            <option value="HR">Haryana</option>
            <option value="HP">Himachal Pradesh</option>
            <option value="JK">Jammu and Kashmir</option>
            <option value="JH">Jharkhand</option>
            <option value="KA">Karnataka</option>
            <option value="KL">Kerala</option>
            <option value="LA">Ladakh</option>
            <option value="LD">Lakshadweep</option>
            <option value="MP">Madhya Pradesh</option>
            <option value="MH">Maharashtra</option>
            <option value="MN">Manipur</option>
            <option value="ML">Meghalaya</option>
            <option value="MZ">Mizoram</option>
            <option value="NL">Nagaland</option>
            <option value="OR">Odisha</option>
            <option value="PY">Puducherry</option>
            <option value="PB">Punjab</option>
            <option value="RJ">Rajasthan</option>
            <option value="SK">Sikkim</option>
            <option value="TN">Tamil Nadu</option>
            <option value="TS">Telangana</option>
            <option value="TR">Tripura</option>
            <option value="UP">Uttar Pradesh</option>
            <option value="UK">Uttarakhand</option>
            <option value="WB">West Bengal</option>
          </select>
        </div>
        <div class="form-group">
          <label for="clientAddress">Client Address</label>
          <textarea id="clientAddress" rows="3" placeholder="Full address with pincode"></textarea>
        </div>
        <div class="form-group">
          <label for="clientEmail">Client Email</label>
          <input type="email" id="clientEmail" placeholder="client@example.com">
        </div>
        </div>
      </section>

      <!-- Invoice Items -->
      <section class="section accordion-section">
        <h2 class="accordion-header">
          Invoice Items
          <span class="accordion-icon">‚ñº</span>
        </h2>
        <div class="accordion-content">
          <div style="display: flex; justify-content: flex-end; margin-bottom: 12px;">
            <button id="addItemBtn" class="btn-add-item tooltip" data-tooltip="Add new invoice item">
              <i class="fas fa-plus"></i> Add Item
            </button>
          </div>
          <div id="itemsList">
            <!-- Items will be added here dynamically -->
          </div>
        </div>
      </section>

      <!-- Totals -->
      <section class="section accordion-section">
        <h2 class="accordion-header">
          Totals
          <span class="accordion-icon">‚ñº</span>
        </h2>
        <div class="accordion-content">
          <div class="totals-box">
          <div class="total-row">
            <span>Subtotal:</span>
            <span id="subtotal">‚Çπ0.00</span>
          </div>
          <div class="total-row tax-row" id="cgstRow" style="display: none;">
            <span>CGST @ 9%:</span>
            <span id="cgst">‚Çπ0.00</span>
          </div>
          <div class="total-row tax-row" id="sgstRow" style="display: none;">
            <span>SGST @ 9%:</span>
            <span id="sgst">‚Çπ0.00</span>
          </div>
          <div class="total-row tax-row" id="igstRow" style="display: none;">
            <span>IGST @ 18%:</span>
            <span id="igst">‚Çπ0.00</span>
          </div>
          <div class="total-row total-main">
            <span>TOTAL:</span>
            <span id="total">‚Çπ0.00</span>
          </div>
          <div class="amount-words" id="amountWords"></div>
        </div>
        </div>
      </section>

      <!-- Actions -->
      <div class="actions">
        <button id="saveDraftBtn" class="btn-secondary">Save Draft</button>
        <button id="generatePdfBtn" class="btn-primary">Generate PDF</button>
      </div>

      <!-- Auto-save indicator -->
      <div id="autoSaveIndicator" style="text-align: center; margin-top: 12px; font-size: 12px; color: #6b7280; opacity: 0; transition: opacity 0.3s;">
        üíæ Draft auto-saved
      </div>

      <!-- Usage Counter (Free Tier) -->
      <div id="usageCounter" class="usage-counter">
        <span id="usageText">0 of 5 invoices used this month</span>
        <button id="upgradeBtn" class="btn-upgrade" style="display: none;">Upgrade to Pro</button>
      </div>

      <!-- Keyboard Shortcuts Help -->
      <div style="margin-top: 16px; padding: 12px; background: #f9fafb; border-radius: 6px; font-size: 11px; color: #6b7280;">
        <details>
          <summary style="cursor: pointer; font-weight: 600; margin-bottom: 8px;">‚å®Ô∏è Keyboard Shortcuts</summary>
          <div style="display: grid; grid-template-columns: auto 1fr; gap: 4px 12px; margin-top: 8px;">
            <kbd style="background: white; padding: 2px 6px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 10px;">Ctrl/‚åò S</kbd>
            <span>Save Draft</span>

            <kbd style="background: white; padding: 2px 6px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 10px;">Ctrl/‚åò G</kbd>
            <span>Generate PDF</span>

            <kbd style="background: white; padding: 2px 6px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 10px;">Ctrl/‚åò H</kbd>
            <span>Open History</span>

            <kbd style="background: white; padding: 2px 6px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 10px;">Ctrl/‚åò I</kbd>
            <span>Add Item</span>

            <kbd style="background: white; padding: 2px 6px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 10px;">Ctrl/‚åò ,</kbd>
            <span>Settings</span>

            <kbd style="background: white; padding: 2px 6px; border: 1px solid #d1d5db; border-radius: 3px; font-size: 10px;">Esc</kbd>
            <span>Go Back</span>
          </div>
        </details>
      </div>
    </div>

    <!-- Settings View (Hidden by default) -->
    <div id="settingsView" class="settings-view" style="display: none;">
      <div class="settings-header">
        <button id="backBtn" class="back-btn tooltip" data-tooltip="Back to invoice form">
          <i class="fas fa-arrow-left"></i> Back
        </button>
        <h2>Business Settings</h2>
      </div>

      <div class="settings-content">
        <div class="form-group">
          <label for="businessName">Business/Your Name *</label>
          <input type="text" id="businessName" required>
        </div>

        <div class="form-group">
          <label for="businessLogo">Business Logo (Optional)</label>
          <div class="logo-upload-container">
            <div class="logo-preview" id="logoPreview">
              <div class="logo-placeholder">
                <span class="logo-icon">üè¢</span>
                <span class="logo-text">No logo uploaded</span>
              </div>
              <img id="logoImage" style="display: none;" alt="Business Logo">
            </div>
            <div class="logo-actions">
              <input type="file" id="businessLogo" accept="image/png,image/jpeg,image/jpg" style="display: none;">
              <button type="button" id="uploadLogoBtn" class="btn-secondary">Upload Logo</button>
              <button type="button" id="removeLogoBtn" class="btn-secondary" style="display: none;">Remove</button>
            </div>
          </div>
          <small>Recommended: PNG or JPG, max 500KB, square format (e.g. 200x200px)</small>
        </div>

        <div class="form-group">
          <label for="businessGSTIN">Your GSTIN *</label>
          <input type="text" id="businessGSTIN" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}" required>
          <small>Format: 29XXXXX1234X1ZX</small>
        </div>

        <div class="form-group">
          <label for="businessState">Your State *</label>
          <select id="businessState" required>
            <option value="">Select State</option>
            <option value="AN">Andaman and Nicobar Islands</option>
            <option value="AP">Andhra Pradesh</option>
            <option value="AR">Arunachal Pradesh</option>
            <option value="AS">Assam</option>
            <option value="BR">Bihar</option>
            <option value="CH">Chandigarh</option>
            <option value="CG">Chhattisgarh</option>
            <option value="DN">Dadra and Nagar Haveli</option>
            <option value="DD">Daman and Diu</option>
            <option value="DL">Delhi</option>
            <option value="GA">Goa</option>
            <option value="GJ">Gujarat</option>
            <option value="HR">Haryana</option>
            <option value="HP">Himachal Pradesh</option>
            <option value="JK">Jammu and Kashmir</option>
            <option value="JH">Jharkhand</option>
            <option value="KA">Karnataka</option>
            <option value="KL">Kerala</option>
            <option value="LA">Ladakh</option>
            <option value="LD">Lakshadweep</option>
            <option value="MP">Madhya Pradesh</option>
            <option value="MH">Maharashtra</option>
            <option value="MN">Manipur</option>
            <option value="ML">Meghalaya</option>
            <option value="MZ">Mizoram</option>
            <option value="NL">Nagaland</option>
            <option value="OR">Odisha</option>
            <option value="PY">Puducherry</option>
            <option value="PB">Punjab</option>
            <option value="RJ">Rajasthan</option>
            <option value="SK">Sikkim</option>
            <option value="TN">Tamil Nadu</option>
            <option value="TS">Telangana</option>
            <option value="TR">Tripura</option>
            <option value="UP">Uttar Pradesh</option>
            <option value="UK">Uttarakhand</option>
            <option value="WB">West Bengal</option>
          </select>
        </div>

        <div class="form-group">
          <label for="businessAddress">Your Address *</label>
          <textarea id="businessAddress" rows="3" required></textarea>
        </div>

        <div class="form-group">
          <label for="businessEmail">Your Email</label>
          <input type="email" id="businessEmail">
        </div>

        <div class="form-group">
          <label for="businessPhone">Your Phone</label>
          <input type="tel" id="businessPhone" placeholder="+91-9876543210">
        </div>

        <div class="form-group">
          <label for="invoicePrefix">Invoice Number Prefix</label>
          <input type="text" id="invoicePrefix" value="INV" maxlength="10">
        </div>

        <div class="form-group">
          <label for="paymentTerms">Default Payment Terms (Days)</label>
          <select id="paymentTerms">
            <option value="7">Net 7 days</option>
            <option value="15" selected>Net 15 days</option>
            <option value="30">Net 30 days</option>
            <option value="45">Net 45 days</option>
          </select>
        </div>

        <div class="form-group">
          <label for="invoiceTemplate">Invoice Template <span class="pro-badge-small">PRO</span></label>
          <select id="invoiceTemplate">
            <option value="modern" selected>Modern (Purple Gradient)</option>
            <option value="classic" disabled>Classic (Traditional) - Pro Only</option>
            <option value="minimal" disabled>Minimal (Clean) - Pro Only</option>
          </select>
          <small>Upgrade to Pro to unlock all templates</small>
        </div>

        <hr style="margin: 24px 0; border: none; border-top: 2px solid #e2e8f0;">

        <h3 style="font-size: 15px; font-weight: 700; margin-bottom: 16px; color: #2d3748;">Saved Items Library</h3>
        <p style="font-size: 12px; color: #718096; margin-bottom: 12px;">Save your frequently used products/services for quick invoicing</p>

        <div id="savedItemsList" style="margin-bottom: 16px;">
          <p class="empty-state" id="noSavedItems">No saved items yet. Add your first item below.</p>
        </div>

        <div class="saved-item-form" style="background: #f7fafc; padding: 16px; border-radius: 10px; border: 2px solid #e2e8f0;">
          <div class="form-row">
            <div class="form-group" style="margin-bottom: 12px;">
              <label for="newItemName">Item Name *</label>
              <input type="text" id="newItemName" placeholder="e.g., Web Development">
            </div>
            <div class="form-group" style="margin-bottom: 12px;">
              <label for="newItemRate">Rate (‚Çπ) *</label>
              <input type="number" id="newItemRate" placeholder="5000" step="0.01">
            </div>
          </div>
          <div class="form-group" style="margin-bottom: 12px;">
            <label for="newItemDescription">Description</label>
            <textarea id="newItemDescription" rows="2" placeholder="Full description for invoice"></textarea>
          </div>
          <button type="button" id="addSavedItemBtn" class="btn-secondary" style="width: 100%;">+ Add to Library</button>
        </div>

        <hr style="margin: 24px 0; border: none; border-top: 2px solid #e2e8f0;">

        <button id="saveSettingsBtn" class="btn-primary">Save Settings</button>
      </div>
    </div>

    <!-- History View (Hidden by default) -->
    <div id="historyView" class="history-view" style="display: none;">
      <div class="settings-header">
        <button id="backFromHistoryBtn" class="back-btn tooltip" data-tooltip="Back to invoice form">
          <i class="fas fa-arrow-left"></i> Back
        </button>
        <h2>Invoice History</h2>
        <button id="analyticsBtn" class="btn-secondary" style="margin-left: auto; padding: 6px 12px; font-size: 12px;">
          <i class="fas fa-chart-line"></i> Analytics <span class="pro-badge-small">PRO</span>
        </button>
      </div>

      <div id="historyList" class="history-list">
        <p class="empty-state">No invoices generated yet</p>
      </div>
    </div>

    <!-- Analytics Dashboard (Hidden by default, Pro only) -->
    <div id="analyticsView" class="analytics-view" style="display: none;">
      <div class="settings-header">
        <button id="backFromAnalyticsBtn" class="back-btn tooltip" data-tooltip="Back to invoice form">
          <i class="fas fa-arrow-left"></i> Back
        </button>
        <h2>Analytics Dashboard</h2>
      </div>

      <div id="analyticsContent" class="analytics-content">
        <!-- Pro users see analytics -->
        <div id="analyticsData">
          <div class="analytics-grid">
            <div class="analytics-card">
              <div class="analytics-label">Total Revenue</div>
              <div class="analytics-value" id="totalRevenue">‚Çπ0</div>
              <div class="analytics-change">This month</div>
            </div>

            <div class="analytics-card">
              <div class="analytics-label">Invoices Generated</div>
              <div class="analytics-value" id="totalInvoices">0</div>
              <div class="analytics-change">All time</div>
            </div>

            <div class="analytics-card">
              <div class="analytics-label">Unpaid Amount</div>
              <div class="analytics-value unpaid" id="unpaidAmount">‚Çπ0</div>
              <div class="analytics-change">Outstanding</div>
            </div>

            <div class="analytics-card">
              <div class="analytics-label">Top Client</div>
              <div class="analytics-value" id="topClient" style="font-size: 16px;">-</div>
              <div class="analytics-change">By revenue</div>
            </div>
          </div>

          <div class="analytics-section">
            <h3>Monthly Breakdown</h3>
            <div id="monthlyBreakdown" class="monthly-breakdown">
              <p class="empty-state">No data available yet</p>
            </div>
          </div>

          <div class="analytics-section">
            <h3>Payment Status</h3>
            <div id="paymentStatusChart" class="payment-status-chart">
              <div class="payment-bar">
                <span class="payment-label">Paid</span>
                <div class="payment-progress">
                  <div class="payment-fill paid" id="paidBar" style="width: 0%"></div>
                </div>
                <span class="payment-count" id="paidCount">0</span>
              </div>
              <div class="payment-bar">
                <span class="payment-label">Unpaid</span>
                <div class="payment-progress">
                  <div class="payment-fill unpaid" id="unpaidBar" style="width: 0%"></div>
                </div>
                <span class="payment-count" id="unpaidCount">0</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Free users see upgrade prompt -->
        <div id="analyticsUpgrade" style="display: none;">
          <div class="analytics-empty">
            <div style="font-size: 48px; margin-bottom: 16px;">üìä</div>
            <h3>Analytics Dashboard - Pro Feature</h3>
            <p>Track your revenue, monitor payment status, and get insights into your invoicing.</p>
            <ul style="text-align: left; max-width: 300px; margin: 20px auto;">
              <li>Total revenue tracking</li>
              <li>Monthly breakdowns</li>
              <li>Payment status overview</li>
              <li>Top clients by revenue</li>
              <li>Invoice trends</li>
            </ul>
            <button class="btn-primary" id="analyticsUpgradeBtn" style="margin-top: 16px;">Upgrade to Pro</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Upgrade Modal (Hidden by default) -->
    <div id="upgradeModal" class="modal upgrade-modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <button class="modal-close" id="closeUpgradeModal">√ó</button>

        <div class="upgrade-modal-header">
          <h2>üöÄ Unlock BillStack Pro</h2>
          <p class="subtitle">Generate unlimited invoices & grow your business faster</p>
        </div>

        <!-- Feature Comparison Table -->
        <div class="feature-comparison">
          <div class="feature-comparison-header">
            <div>Feature</div>
            <div>Free</div>
            <div>Pro</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Monthly Invoices</div>
            <div class="feature-value limited">5/month</div>
            <div class="feature-value available">‚àû</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">PDF Templates</div>
            <div class="feature-value limited">1 Design</div>
            <div class="feature-value available">3 Designs</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Client Templates</div>
            <div class="feature-value limited">5 Max</div>
            <div class="feature-value available">‚àû</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Saved Items Library</div>
            <div class="feature-value limited">10 Max</div>
            <div class="feature-value available">‚àû</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Analytics Dashboard</div>
            <div class="feature-value unavailable">‚úó</div>
            <div class="feature-value available">‚úì</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Payment Tracking</div>
            <div class="feature-value unavailable">‚úó</div>
            <div class="feature-value available">‚úì</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Email Invoices</div>
            <div class="feature-value unavailable">‚úó</div>
            <div class="feature-value available">‚úì</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Excel/CSV Export</div>
            <div class="feature-value unavailable">‚úó</div>
            <div class="feature-value available">‚úì</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Cloud Sync</div>
            <div class="feature-value unavailable">‚úó</div>
            <div class="feature-value available">‚úì</div>
          </div>

          <div class="feature-comparison-row">
            <div class="feature-name">Priority Support</div>
            <div class="feature-value unavailable">‚úó</div>
            <div class="feature-value available">‚úì</div>
          </div>
        </div>

        <!-- Social Proof -->
        <div class="social-proof">
          <div class="social-proof-stats">
            <div class="social-proof-stat">
              <span class="number">2,500+</span>
              <span class="label">Active Users</span>
            </div>
            <div class="social-proof-stat">
              <span class="number">50,000+</span>
              <span class="label">Invoices Generated</span>
            </div>
            <div class="social-proof-stat">
              <span class="number">4.8‚òÖ</span>
              <span class="label">User Rating</span>
            </div>
          </div>
        </div>

        <!-- Pricing Plans -->
        <div class="pricing-plans">
          <div class="plan-card">
            <h4>Monthly</h4>
            <p class="plan-price">‚Çπ299<span>/mo</span></p>
            <button class="btn-primary" id="upgradeMonthlyBtn">Choose Monthly</button>
            <p style="font-size: 11px; color: #6b7280; margin-top: 8px;">Cancel anytime</p>
          </div>
          <div class="plan-card plan-popular">
            <div class="plan-badge">Save ‚Çπ589/year</div>
            <h4>Annual</h4>
            <p class="plan-price">‚Çπ2,999<span>/year</span></p>
            <p class="plan-saving">Just ‚Çπ250/month</p>
            <button class="btn-primary" id="upgradeAnnualBtn">Choose Annual</button>
            <p style="font-size: 11px; color: #10b981; margin-top: 8px; font-weight: 600;">üéâ Best Value</p>
          </div>
        </div>

        <!-- Money Back Guarantee -->
        <div class="money-back-guarantee">
          <i class="fas fa-shield-alt"></i>
          <span>30-Day Money Back Guarantee - No Questions Asked</span>
        </div>

        <a href="#" class="modal-skip" id="skipUpgrade">Maybe later</a>
      </div>
    </div>

    <!-- Onboarding Modal (First-time users) -->
    <div id="onboardingModal" class="modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content onboarding-content">
        <div class="onboarding-step" id="onboardingStep1">
          <h2>üëã Welcome to BillStack!</h2>
          <p>Generate professional GST-compliant invoices in 30 seconds.</p>
          <div class="onboarding-image">üìä</div>
          <p class="onboarding-feature">Perfect for Indian freelancers, creators, and consultants.</p>
          <button class="btn-primary" id="onboardingNextBtn">Get Started</button>
        </div>

        <div class="onboarding-step" id="onboardingStep2" style="display: none;">
          <h2>‚öôÔ∏è Set Up Your Business Details</h2>
          <p>First, let's set up your business information. This will be used on all your invoices.</p>
          <div class="onboarding-image">üè¢</div>
          <ul class="onboarding-checklist">
            <li>Business name and GSTIN</li>
            <li>Address and contact info</li>
            <li>Invoice preferences</li>
          </ul>
          <button class="btn-primary" id="onboardingSetupBtn">Set Up Now</button>
          <button class="btn-secondary" id="onboardingSkipBtn" style="margin-top: 8px;">Skip for Now</button>
        </div>

        <div class="onboarding-step" id="onboardingStep3" style="display: none;">
          <h2>üéâ You're All Set!</h2>
          <p>Start creating your first invoice now.</p>
          <div class="onboarding-image">‚ú®</div>
          <div class="onboarding-freebies">
            <h3>Free Plan Includes:</h3>
            <ul>
              <li>‚úÖ 5 invoices per month</li>
              <li>‚úÖ Professional PDF export</li>
              <li>‚úÖ Invoice history</li>
              <li>‚úÖ Client templates</li>
            </ul>
            <p class="onboarding-pro-hint">Need more? Upgrade to Pro for unlimited invoices and advanced features!</p>
          </div>
          <button class="btn-primary" id="onboardingFinishBtn">Start Creating Invoices</button>
        </div>
      </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast" class="toast"></div>
  </div>

  <!-- Libraries -->
  <script src="../../libs/jspdf.umd.min.js"></script>

  <!-- Analytics -->
  <script src="../utils/analytics.js"></script>

  <!-- Main Script -->
  <script src="popup.js"></script>
</body>
</html>
